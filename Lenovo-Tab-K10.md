# Lenovo Tab K10 LTE (TB-X6C6X)
Seems to behave the same as its non-LTE counterpart. VoLTE/SIM not tested.

# Lenovo Tab K10 (TB-X6C6F)

Android 11 firmware is the only firmware that seems to currently work, anything later kernel panics to recovery or bootloops.  
If the device has Android 12 already, you will need to downgrade it - you can try using [this firmware mirror](https://mirrors.lolinet.com/firmware/lenowow/Tab_K10/TB-X6C6F/), if it still works at the time you're reading this.

Make sure to disable dm-verity, and use fastbootd to flash the image.

## Hardware support

| Component                 |      Comment                                              |
|---------------------------|-----------------------------------------------------------|
| Camera                    | Works                                                     |
| Speaker / Mic             | Works                                                     |
| Bluetooth                 | Works                                                     |
| SDCard                    | Works                                                     |
| MTP                       | Works                                                     |
| WiFi                      | Works                                                     |
| SIM / Mobile Data         | Untested                                                  |
| VoLTE                     | None                                                      |
| Fingerprint               | None                                                      |
| NFC                       | None                                                      |
| FM Radio                  | Untested                                                  |


Tested By:
1. 00p513-dev
   - Model: Lenovo TB-X6C6F
   - Firmware: S000043_210430
   - Date: 2022-02-11
1. C0rn3j
   - Model: Lenovo TB-X6C6X
   - Firmware: `S000080_220410_ROW`, `S000043_210430` - A12 `TB-X6C6F_S100038_240307_ROW` was also tested, but could not get the GSI to work
   - GSI: [Andi Yan's td](https://sourceforge.net/projects/andyyan-gsi/files/lineage-20-td/) - `lineage-20.0-20240516-UNOFFICIAL-arm64_bgN.img` - LineageOS 21.0 seems to not work, supposedly because older Android 14 releases are not friendly with 4.19 kernel the device uses
   - Last updated: 2024-05-25


## Flashing Android 11 stock firmware

The device ships with Android 11, if you didn't upgrade and are still on A11, not A12, you can skip this section.

You will need to obtain `X6C6F_S000043_210430_ROW.zip` (or another A11 image) and extract it, sha256 checksum is `6e3f45628712749ad5e61e36fa1fffe4dbb6ac1730af8e4fcdd5902e07083d34`, then flash the following files via fastboot:
```terminal
adb reboot bootloader
fastboot flash boot boot.img
fastboot flash dtbo dtbo-verified.img
fastboot flash gz gz-verified.img
fastboot flash lenovocust lenovocust.img
fastboot flash lenovoraw lenovoraw.img
fastboot flash lk lk-verified.img
fastboot flash md1img md1img-verified.img
fastboot flash scp scp-verified.img
fastboot flash spmfw spmfw-verified.img
fastboot flash sspm sspm-verified.img
fastboot flash super super.img
fastboot flash tee tee-verified.img
fastboot flash userdata userdata.img
fastboot flash vbmeta vbmeta.img
fastboot flash vbmeta_system vbmeta_system.img
fastboot flash vbmeta_vendor vbmeta_vendor.img
fastboot flash preloader preloader_*.bin
fastboot -w
fastboot reboot bootloader
```

## Disabling dm-verity
It was necessary for me to flash both a and b partitions, otherwise I got issues and a warning screen requiring to press Power ON to continue.

You might want to take a backup of those beforehand, as the recovery firmware images don't contain them directly.

```terminal
# vbmeta.img was generated by avbtool
echo 'QVZCMAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABhdmJ0b29sIDEuMi4wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==' | base64 -d > vbmeta.img
fastboot flash vbmeta_a --disable-verity --disable-verification vbmeta.img
fastboot flash vbmeta_b --disable-verity --disable-verification vbmeta.img
fastboot flash vbmeta_system_a --disable-verity --disable-verification vbmeta.img
fastboot flash vbmeta_system_b --disable-verity --disable-verification vbmeta.img
fastboot reboot fastboot
```

## Flashing a GSI
Flashing GSI should be done through fastbootd. It might be necessary to first delete the product partitions to free up space.

```terminal
fastboot reboot fastboot
fastboot delete-logical-partition product
fastboot delete-logical-partition product_a
fastboot delete-logical-partition product_b
fastboot flash system system-squeak-arm64-ab-gapps.img
fastboot -w
fastboot reboot recovery
```
## Format /data

From recovery go to 'Wipe data/factory reset' -> 'Factory data reset'

Alternatively if you boot in this state, the tablet should boot straight into recovery and offer to format /data, do so.

Reboot to system, it should boot the GSI fine.

# Troubleshooting

## No internet connection

There is an MTK bug that Android 13 runs into, see https://forum.xda-developers.com/t/gsi-13-lineageos-20-light.4509315/#post-87620773 for details.

The fix is to execute the following to disable the feature:
```
adb shell settings put global restricted_networking_mode 0
```

# Update to a newer GSI

Similar to other devices, just dirty flash system with the newer image again should do the trick.

```terminal
adb reboot fastboot
fastboot flash system system-squeak-arm64-ab-gapps.img
fastboot reboot
```
