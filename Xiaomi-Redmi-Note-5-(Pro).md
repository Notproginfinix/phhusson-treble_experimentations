Check https://forum.xda-developers.com/redmi-note-5-pro/development/project-treble-redmi-note-5china-global-t3798301 for a better vendor implementation made by the community